---
import { SEO as AstroSeo } from 'astro-seo'
import { SEO_CONFIG } from './seo.config'
import { mergeObjects } from '../../js/utils'

type Props = { pageId: string }
const { pageId } = Astro.props

const getConfig = (pageId: string) => {
  const globalSEO = SEO_CONFIG.globals
  const pageSEO = SEO_CONFIG.pages[pageId] || null

  const mergedSeo = mergeObjects(globalSEO, pageSEO)
  return mergedSeo
}

const config = getConfig(pageId)
---

{config && <AstroSeo {...config} />}
